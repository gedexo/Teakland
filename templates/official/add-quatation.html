{% extends 'official/base.html' %}
{% load static %}
{% block content %}


<div class="container-fluid page-body-wrapper">

    <!-- partial:partials/_sidebar.html -->
    {% include 'official/partials/sidebar.html' %}


    <div class="main-panel">
        <div class="content-wrapper">
            <!-- ========================responsive design start================ -->

            <div class="row">
                <div class="col-md-12 grid-margin">
                    <div class="row">
                        <div class="col-6 col-xl-8 mb-4 mb-xl-0">
                            <h3 class="font-weight-bold"> Quotation</h3>
                        </div>
                        <div class="col-6 col-xl-4">
                            <div class="justify-content-end d-flex">
                                <div class="dropdown previous-btn-div flex-md-grow-1 flex-xl-grow-0">
                                   
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-design">
                <div class="card">

                    <div class="card-body pt-5">
                        <p class="font-weight-bold p-quatation" id="quatationNumber"></p>
                        <!-- <div class="row justify-content-between">
                            <p class="font-weight-bold p-quatation" id="quatationNumber"></p>
                            <button class=" add-customer-btn" data-bs-toggle="modal" data-bs-target="#customerModal">Add Customer</button>   
                        </div> -->
                        <!-- ================================== alert div part -->

                        <!-- <div class="alert alert-danger errorClass" style="width: 30%;" role="alert"></div> -->
                        <!-- ================================ -->

                        <!-- ===============================checkbox section==== -->
                        <!-- <div class="row">
                            <div class="col-lg-4 col-4 form-check form-check-flat form-check-primary text-center ">
                                <label class="">
                                    <input type="checkbox" onchange="doorChk(this)" id="doorChk" checked
                                        class="form-check-input">
                                    Door
                                </label>
                            </div>

                            <div class="col-lg-4 col-4 form-check form-check-flat form-check-primary text-center">
                                <label class="">
                                    <input type="checkbox" class="form-check-input" onchange="kattlaChk(this)"
                                        id="kattlaChk">
                                    Kattla
                                </label>
                            </div>

                            <div class=" col-lg-4 col-4 form-check form-check-flat form-check-primary text-center">
                                <label class="">
                                    <input type="checkbox" class="form-check-input" onchange="windowChk()"
                                        id="windowChk">
                                    Window
                                </label>
                            </div>
                        </div> -->
                        <!-- ======================================= -->

                        <!-- ============================hidden inputs============= -->
                        <!-- <input type="text" value="0" id="quotationTaxInput" hidden>
                        <input type="number" value="0" id="quotation" hidden> -->
                        <!-- ===================== -->



                        <!-- ----------form-1 for door--------- -->
                        <!-- <div class="" id="doorQuotatiionDiv">
                            <form class="forms-sample row" id="doorQuotationForm">


                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Rawmaterial :</label>
                                    <select class="form-control form-input" id="rowMaterialsDoor" name="raw_material"
                                        onfocusout="getDoorUnitPrice()" aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                    </select>
                                </div>

                                <div class="form-group col-lg-3 col-12">

                                    <input type="number" id="doorEditId" value="0" hidden>

                                    <label class="fnt-weight">Type: </label>
                                    <select class="form-control form-input" name="type" id="doorType"
                                        onfocusout="getDoorUnitPrice()" aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                        <option value="Single door">Single Door</option>
                                        <option value="Double door">Double Door</option>
                                    </select>
                                </div>


                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Joint:</label>
                                    <select class="form-control form-input" name="joint" id="jointType"
                                        onfocusout="getDoorUnitPrice()" aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                    </select>
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Height:</label>

                                    <input type="number" id="doorHeight" name="dimention_height" step="0.01" min="0.00"
                                        onfocusout="getDoorUnitPrice()" class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">width:</label>
                                    <input type="number" id="doorWidth" name="dimention_width"
                                        onfocusout="getDoorUnitPrice()" step="0.01" min="0.00"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Name:</label>
                                    <input type="text" name="name" id="doorName" min="0"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Labour Charge:</label>

                                    <input type="number" min="0.00" name="labour_charge" id="doorLabourCharge"
                                        class="form-control form-input" readonly="readonly">
                                </div>


                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Unit amount:</label>
                                    <input type="number" min="0.00" step="0.01" name="unit_amount" id="doorUnitAmount"
                                        class="form-control form-input" readonly="readonly">
                                    <input type="number" min="0.00" step="0.01" name="squarfeet" id="doorSqft"
                                        class="form-control form-input" readonly="readonly" hidden>
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Qunantity:</label>
                                    <input type="number" min="0.00" name="quantity" id="doorQuantity"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Amount:</label>
                                    <input type="number" min="0.00" step="0.01" id="doorSubTotal" name="aggregate"
                                        class="form-control form-input" readonly="readonly">
                                </div>



                                <div class=" col-12 text-center ">

                                    <button type="submit" id="btnSubmitDoor"
                                        class="btn btn-success btn-color-green mr-2">Add</button>
                                </div>

                            </form>
                        </div> -->




                        <!-- -------------form2 for kattla----------------- -->
                        <!-- <div class="" id="kattlaQuotatiionDiv">
                            <form class="forms-sample row" id="kattlaQuotationForm">


                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Rawmaterial :</label>
                                    <select class="form-control form-input form-input" name="raw_material"
                                        id="rowMaterialsKattla" onfocusout="getKattlaUnitPrice()"
                                        aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                    </select>
                                </div>

                                <input type="number" value="0" id="kattlaEditId" hidden>


                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Type: </label>
                                    <select class="form-control form-input form-input" name="type" id="kattlaType"
                                        onfocusout="getKattlaUnitPrice()" aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                        <option value="open">Door Open</option>
                                        <option value="closed">Door Closed</option>
                                        <option value="w1">W1</option>
                                        <option value="w2">W2</option>
                                        <option value="w3">W3</option>
                                        <option value="w4">W4</option>
                                        <option value="w5">W5</option>
                                    </select>
                                </div>




                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Height:</label>
                                    <input type="number" step="0.01" min="0.00" name="dimention_height"
                                        onfocusout="getKattlaUnitPrice()" id="kattlaHeight"
                                        class="form-control form-input">
                                </div>
                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">width:</label>
                                    <input type="number" step="0.01" min="0.00" name="dimention_width"
                                        onfocusout="getKattlaUnitPrice()" id="kattlaWidth"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight"> Thicknes(Tx):</label>
                                    <input type="number" step="0.01" min="0.00" name="thickness_x"
                                        onfocusout="getKattlaUnitPrice()" id="thicknex_x"
                                        class="form-control form-input">
                                </div>


                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight"> Thicknes(Ty):</label>
                                    <input type="number" step="0.01" min="0.00" name="thickness_y"
                                        onfocusout="getKattlaUnitPrice()" id="thicknex_y"
                                        class="form-control form-input">
                                </div>
                                <input type="text" name="qubic" id="kattlaQubic" hidden readonly>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Name:</label>
                                    <input type="text" step="0.01" min="0.00" name="name" id="kattlaName"
                                        class="form-control form-input">
                                </div>



                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Unit amount:</label>
                                    <input type="number" step="0.01" min="0.00" id="kattlaUnitAmount" name="unit_amount"
                                        class="form-control form-input" readonly="readonly">
                                </div>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Qunantity:</label>
                                    <input type="number" min="0.00" id="kattlaQuantity" name="quantity"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Amount:</label>
                                    <input type="number" step="0.01" min="0.00" id="kattlaSubTotal" name="aggregate"
                                        class="form-control form-input">
                                </div>



                                <div class=" col-12 text-center ">

                                    <button type="submit" id="btnSubmitKattla"
                                        class="btn btn-success btn-color-green mr-2">Add</button>
                                </div>

                            </form>
                        </div> -->
                        <!-- ---------------form3 for window------ -->
                        <!-- <div class="" id="windowQuotatiionDiv">
                            <form class="forms-sample row" id="windowQuotationForm">


                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Rawmaterial :</label>
                                    <select class="form-control form-input" id="rowMaterialsWindow" name="raw_material"
                                        onfocusout="getWindowUnitPrice()" aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                    </select>
                                </div>

                                <input type="number" value="0" id="windowEditId" hidden>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Plane Number: </label>
                                    <select class="form-control form-input" id="plane" onfocusout="getWindowUnitPrice()"
                                        aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                    </select>
                                </div>



                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Shutter:</label>
                                    <select class="form-control form-input" name="shutter" id="shutter"
                                        onfocusout="getWindowUnitPrice()" aria-label="Default select example">
                                        <option selected disabled>--select--</option>
                                        <option value="1">Yes</option>
                                        <option value="0">No</option>
                                    </select>
                                </div>



                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Height:</label>
                                    <input type="number" step="0.01" id="windowHeight" min="0.00"
                                        onfocusout="getWindowUnitPrice()" name="dimention_height"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">width:</label>
                                    <input type="number" step="0.01" id="windowWidth" min="0.00"
                                        onfocusout="getWindowUnitPrice()" name="dimention_width"
                                        class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Name:</label>
                                    <input type="text" name="name" id="windowName" class="form-control form-input">
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Labour Charge:</label>
                                    <input type="number" min="0.00" id="windowLabourCharge" name="labour_charge"
                                        class="form-control form-input" readonly="readonly">
                                </div>


                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Unit amount:</label>
                                    <input type="number" min="0.00" step="0.01" id="windowUnitAmount" name="unit_amount"
                                        class="form-control form-input" readonly="readonly">
                                </div>

                                <div class="form-group col-lg-2 col-12">
                                    <label class="fnt-weight">Qunantity:</label>
                                    <input type="number" min="0.00" name="quantity" id="windowQuantity"
                                        class="form-control form-input">
                                </div>

                                <input type="text" name="squarfeet" id="windowSqft" readonly="readonly" hidden>

                                <div class="form-group col-lg-3 col-12">
                                    <label class="fnt-weight">Amount:</label>
                                    <input type="number" min="0.00" step="0.01" id="windowSubTotal" name="aggregate"
                                        class="form-control form-input" readonly="readonly">
                                </div>



                                <div class=" col-12 text-center ">

                                    <button type="submit" id="btnSubmitWindow"
                                        class="btn btn-success btn-color-green mr-2">Add</button>
                                </div>

                            </form>
                        </div> -->



                    </div>
                </div>
                <div class="card">
                    <div class="card-body">

                        <div class="row">
                            <div class="col-12">

                                <div class="table-responsive" id="windowTableDiv">
                                    <table id="windowQuotatiionTable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Height</th>
                                                <th>Width</th>
                                                <th>Quantity</th>
                                                <th>Rawmaterial</th>
                                                <th>Sqft</th>
                                                <th>Rate</th>
                                                <th>Amount</th>
                                                <th>Image</th>
                                                <!-- <th>Edit</th>
                                                <th>Delete</th> -->
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                        <tr>
                                            <td colspan="7" class="td-door-total font-weight-bold colsp-td">Total:</td>
                                            <td class="colsp-td" id="windowTotal">0</td>
                                            <td class="colsp-td"></td>
                                            <!-- <td class="colsp-td"></td>
                                            <td class="colsp-td"></td> -->
                                        </tr>
                                    </table>
                                </div>

                                <div class="table-responsive" id="doorTableDiv">
                                    <table id="doorsQuotationTable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Height</th>
                                                <th>Width</th>
                                                <th>Quantity</th>
                                                <th>Rawmaterial</th>
                                                <th>Sqft</th>
                                                <th>Rate</th>
                                                <th>Amount</th>
                                                <th>Image</th>
                                                <!-- <th>Edit</th>
                                                <th>Delete</th> -->

                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                        <tr>
                                            <td colspan="7" class="td-door-total font-weight-bold colsp-td">Total:</td>
                                            <td class="colsp-td" id="doorTotal">0</td>
                                            <td class="colsp-td"></td>
                                            <!-- <td class="colsp-td"></td>
                                            <td class="colsp-td"></td> -->
                                        </tr>
                                    </table>
                                </div>

                                <div class="table-responsive" id="kattlaTableDiv">
                                    <table id="kattlaQuotatiionTable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Height</th>
                                                <th>Width</th>
                                                <th>Quantity</th>
                                                <th>Rawmaterial</th>
                                                <th>Qubic</th>
                                                <th>Rate</th>
                                                <th>Amount</th>
                                                <th>Image</th>
                                                <!-- <th>Edit</th>
                                                <th>Delete</th> -->
                                            </tr>
                                        </thead>
                                        <tbody id="doorTbody">
                                        </tbody>
                                        <tr>
                                            <td colspan="7" class="td-door-total font-weight-bold colsp-td">Total:</td>
                                            <td class="colsp-td" id="kattlaTotal">0</td>
                                            <td class="colsp-td"></td>
                                            <!-- <td class="colsp-td"></td>
                                            <td class="colsp-td"></td> -->

                                        </tr>
                                    </table>
                                </div>

                                <div class="table-responsive" id="customKattlaTableDiv">
                                    <table id="customKattlaQuotatiionTable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Length</th>
                                                <th>Quantity</th>
                                                <th>Rawmaterial</th>
                                                <th>Qubic</th>
                                                <th>Rate</th>
                                                <th>Amount</th>
                                                <th>Image</th>
                                            </tr>
                                        </thead>
                                        <tbody id="">
                                        </tbody>
                                        <tr>
                                            <td colspan="6" class="td-door-total font-weight-bold colsp-td">Total:</td>
                                            <td class="colsp-td" id="customKattlaTotal">0</td>
                                            <td class="colsp-td"></td>
                                        </tr>
                                    </table>
                                </div>
                                <div class="table-responsive" id="otherProductTableDiv">
                                    <table id="otherProductQuotatiionTable" class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Rawmaterial</th>
                                                <th>Rate</th>
                                                <th>Quantity</th>
                                                <th>Amount</th>
                                                
                                            </tr>
                                        </thead>
                                        <tbody id="">
                                        </tbody>
                                        <tr>
                                            <td colspan="4" class="td-door-total font-weight-bold colsp-td">Total:</td>
                                            <td class="colsp-td" id="othersTotal">0</td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                        </div>
<!-- imagemodal -->

<div class="modal fade" id="ImageModal" tabindex="-1" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"> <i
          class="fa-solid fa-xmark"></i></button>
    </div>
    <img id="quotationImage1" class="cr-img"  src="">
    <div class="modal-body">
      <div class="owl-carousel owl-theme">
        <div class="item">
          <div class="card">
            <img id="quotationImage" class="cr-img" alt="">
          </div>
        </div>



      </div>
    </div>

  </div>



</div>
</div>
<!-- end section -->
                        <!-- =======tax section start ======== -->
                        <div class="row" id="quotatonTaxDiv">
                            <div class="col-lg-6 col-6"></div>
                            <div class="col-lg-4 col-4 qt-total-div text-right" id="taxCDiv"></div>
                            <div class="col-lg-2 col-2 qt-total" id="taxTotal">0</div>

                        </div>
                        <!-- =======tax section end======== -->

                        <!-- ================ tax and subtotal section start=======  -->
                        <div class="row">
                            <div class="col-lg-6 col-6">
                                <!-- <div class="row">

                                    <div class="col-lg-6 col-6">Tax: <input type="checkbox" id="taxChk"></div>
                                </div>
                                <div>
                                    <p class="error taxwarning"></p>
                                </div> -->
                            </div>
                            <div class="col-lg-4 qt-total-div text-right">SubTotal:</div>
                            <div class="col-lg-2 qt-total" id="quotationSubTotal">0</div>

                        </div>
                        <!-- ================ tax and subtotal section end=======  -->

                        <!-- =============Total section start======== -->
                        <div class="row">
                            <div class="col-lg-6">
                            </div>
                            <div class="col-lg-4 qt-total-div text-right">Total:</div>
                            <div class="col-lg-2 qt-total" id="quotationTotal">0</div>

                        </div>
                        <!-- =============Total section end======== -->

                        <div class="row add-job-card-pad" id="printDiv">
                            
                        </div>



                    </div>
                </div>
            </div>





        </div>

    </div>






    <!-- =================modal section start============ -->

    <!-- Tax modal -->
    <div class="modal fade" id="taxModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <form id="quotationTaxForm">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Tax Amount(%):</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-lg-3 select-box-pad">
                            </div>
                            <div class="col-lg-3 select-box-pad">
                                <label for="" class="label-text-3">Tax (%):</label>
                                <input type="number" step="0.01" min="0.00" max="30" value="0" id="taxPercentage"
                                    name="tax" class="form-control form-input" required>
                            </div>
                            <div class="col-lg-3 select-box-pad tax-div">
                                <label for="" class="label-text-3"></label>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-primary">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <!-- customer modal -->

    <div class="modal fade" id="customerModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Select customer:</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"> <i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="modal-body">
                    <form id="customerForm">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-6 select-box-pad">
                                <label for="" class="label-text-3">Customer:</label>
                                <select class="form-control form-input" name="customer" id="customer"
                                    aria-label="Default select example">
                                    <option selected disabled>--select--</option>
                                </select>
                            </div>
                            <div class="col-lg-6 select-box-pad">
                                <label for="" class="label-text-3">Dealt BY:</label>
                                <input type="text" id="dealtBy" class="form-control form-input" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 select-box-pad">
                                <label for="" class="label-text-3">Created BY:</label>
                                <input type="text" id="createdBy" name="price" class="form-control form-input" disabled>
                            </div>
                            <div class="col-lg-6 select-box-pad">
                                <label for="" class="label-text-3">Phone:</label>
                                <input type="text" id="phone" class="form-control form-input" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 select-box-pad">
                                <label for="" class="label-text-3">Remark:</label>
                                <textarea type="text" name="remark" class="form-control form-input"></textarea>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="submit" id="btnCustomer" class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!-- =================modal section end ============ -->

</div>




{% endblock %}
{% block javascript %}
<script src="{% static 'official/js/quotation-exists.js' %}"></script>
<script src="{% static 'official/js/helper.js' %}"></script>
<script src="{% static 'official/js/quotation-images.js' %}"></script>

<!-- <script src="{% static 'user/js/quatation-helper.js' %}"></script> -->
<!-- <script src="{% static 'user/js/add-quotation.js' %}"></script> -->
<!-- <script src="{% static 'user/js/quotation-update.js' %}"></script>
<script src="{% static 'user/js/quotation-delete.js' %}"></script>
<script src="{% static 'user/js/quotation-tax.js' %}"></script>
<script src="{% static 'user/js/events.js' %}"></script> --> 
{% endblock %}